---
id: flowpay
title: FlowPay
sidebar_label: Flowpay
---

<!--
WARNING: this file was automatically generated by Mia-Platform Doc Aggregator.
DO NOT MODIFY IT BY HAND.
Instead, modify the source file and run the aggregator to regenerate this file.
-->

In this page you will find the required information to perform REST calls related to the FlowPay payment provider.

| Payment Method  | Payment | Refund | Automatic Subscription | Manual Subscription |
|-----------------|---------|--------|------------------------|---------------------|
| `wire-transfer` | ✓       |        |                        |                     | 

|              | Enabled |
|--------------|---------|
| Pay By Link  | ✗       |

## Endpoints

Every FlowPay endpoint has this prefix path `/v3/flowpay`

### Pay

`POST /{payment-method}/pay`

This endpoint allows to execute payments via the Stripe payment provider.

The body needs the additional field `providerData` with the following structure:
```jsonc
{
  [...]
  "providerData": {
    "debtorFiscalCode": String,
    "creditorFiscalCode": String,
    "creditorIban": String,
    "remittanceDescription": String,
    "transferDate": String,
  }
}
```
Here there is a brief description of the fields' meaning:
- `debtorFiscalCode` (required): the debtor fiscal code or VAT.
- `creditorFiscalCode` (required): the creditor fiscal code or VAT.
- `creditorIban` (required): the creditor iban.
- `remittanceDescription`: wire transfer remittance description.
- `transferDate`: the wire transfer date in the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format without milliseconds. E.g. `2023-10-11T16:31:21Z`

The payment response can have the following result codes:
- **REDIRECT_TO_URL**: the payment was successfully created and the user can be redirected to the checkout page.
- **KO**: the payment failed.

### Status

`GET /status?paymentId={paymentId}`
This endpoint allows to get the current status of the payment identified by the **required** query parameter `paymentId`.

#### Mapping
The status received by the provider will be mapped according to the following table:

| Provider Status | Plugin Status |
|-----------------|---------------|
| CONCLUDED       | ACCEPTED      |
| REJECTED        | FAILED        |

Everything else will be mapped as PENDING.

### Check

`GET /check?paymentId={paymentId}`
This endpoint allows to get the current status of the payment identified by the **required** query parameter `paymentId` and also to send a notification to the external service as specified by `PAYMENT_CALLBACK_URL` environment variable.

### Callback

`POST /callback`
This endpoint must only be called by FlowPay.

`GET /callback`
This endpoint must only be called by FlowPay.
