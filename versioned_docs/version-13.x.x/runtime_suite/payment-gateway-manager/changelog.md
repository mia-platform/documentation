---
id: changelog
title: Changelog
sidebar_label: CHANGELOG
---

<!--
WARNING: this file was automatically generated by Mia-Platform Doc Aggregator.
DO NOT MODIFY IT BY HAND.
Instead, modify the source file and run the aggregator to regenerate this file.
-->

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).

## 3.6.2 - 16/09/2024

### Fixed

- FlowPay getPaymentStatus returns the correct payment method

## 3.6.1 - 06/06/2024

### Updated

- after receiving the webhook from FlowPay it sends `paymentExecuted` event if the webhook type is `checkout_payment_authorized`

## 3.6.0 - 26/03/2024

### Fixed

- Reply with error when subscription expiration goes wrong on the provider (Satispay and Braintree)
- Braintree's subscriptions correctly handles vaulted and non-vaulted cases
- Fixed Unicredit issues
- shopTransactionId on braintree payment status response for Braintree provider

### Added

- Handle expire subscription on Satispay callback
- Handle expire subscription and "Payment Method Revoked By Customer" event on Braintree callback
- resultDescription on metadata field on status response
- action field on payment status response
- Stripe: added "payment_intent" id in the PaymentStatus metadata
- FnmPay payment provider

### Updated

- Removed Merchant object from providerData on Scalapay pay request
- Status mapping for Braintree provider
- `PAYMENT_CALLBACK_URL` env variable changed from mandatory to optional

## 3.5.0 - 26/01/2024

### Added

- API to get subscription status. Available for Adyen, Braintree, Satispay, Stripe and External Providers. 

### Fixed

- ScalaPay callback handles `approved` status

## 3.4.0 - 17/01/2024

### Added

- FlowPay payment provider

## 3.3.0 - 09/01/2024

### Added

- Nexi payment provider

## 3.2.0 - 29/11/2023

### Updated

- Payments Library to v1.0.5
- Custom Plugin Quarkus to v1.0.1
- update dependency com.adyen:adyen-java-api-library to v21.6.0
- Quarkus v3.2.8.Final

### Added

- Ignore unknown properties on scalapay responses
- metadata and action optional fields to PaymentStatus
- Stripe optional providerData
- Stripe supports PayPal

### Fixed

- fix Axerve recurrence details parsing for first payment
- Subscriptions flow

### Added
- Ignore unknown properties on scalapay responses

## 3.1.0 - 12/09/2023

### Added

- Feature Pay By Link

## 3.0.1 - 11/08/2023

### Security

- Bumped to Quarkus 3

## 3.0.0 - 01/08/2023

### BREAKING CHANGES

- v3 APIs

### Changed

- Changed path parameter from `paymentID` to `paymentId` in endpoint `/status` for stripe payment method

### Added

- `/saga/payment-methods` API to retrieve available payment methods given a saga
- `/saga/pay`, `/saga/confirm` and `/saga/refund` APIs for Flow Manager communication
- Events to be sent to Flow Manager when enabled
- Module for b2b payments and its endpoints

### Fixed

- Scalapay callback supported payment status extended with `pending`, `partially_refunded` and `refunded_not_charged`

## 2.10.2-quarkus & 2.10.2-ktor - 28/09/2023

### update
- ignore unknown status from scalapay response

## 2.10.1-quarkus & 2.10.1-ktor - 11/07/2023

### Fixed
- /saga/pay for Google Pay payments
- date format jackson deserialization of recordedAt capture date for scalapay

## 2.10.0-quarkus & 2.10.0-ktor - 15/02/2023

### Changed
- Changed /pay reply with additional (optional) metadata field

### Added
- Flow Manager Service (REST) integration
  - /saga/payment-methods API to retrieve available payment methods given a saga (Adaptive checkout)
  - /saga/pay, /saga/confirm and /saga/refund APIs for Flow Manager communication
  - Events to be sent to Flow Manager when enabled
- Status endpoint for Apple Pay payments
- Status endpoint for Google Pay payments
- Status endpoint for credit cards payments
- Status endpoint for PayPal payments
- Stripe payment provider (quarkus)

## 2.9.0-quarkus & 2.9.0-ktor - 05/12/2022

:::warning
From version 2.9.0 the framework used is changed from ktor to quarkus.
Until version 3.0.0 will be available both framework, and you can choose the framework you prefer by adding the related suffix to the tag name.
:::

### Added

- Stripe payment provider

## 2.8.2 - 14/11/2022

### Added

- Amount zero for recurrent payments

## 2.8.1 - 09/11/2022

### Fixed

- Add travelDate to scalapay callback

### Added

- Multi module repository

## 2.8.0 - 07/11/2022

### Added

- Support of PayPal refund with Gestpay (Axerve) provider

### Fixed

- Make ScalaPay callback request body shipping fields nullable

## 2.7.0 - 04/11/2022

### Added

- Add Satispay refund with Satispay and Gestpay provider

### Fixed

- Unicredit: Orders with code CO were incorrectly considered as paid.

## 2.6.2 - 06/10/2022

### Security fix

- CVE-2021-42550
- CVE-2022-37434

## 2.6.1 - 06/10/2022

### Hotfix

- Braintree: option `submit_for_settlement`removed from configs and hardcoded to `true`

## 2.6.0 - 04/08/2022

### Added

- Added possibility for GestPay payments to override redirect URLs via /pay request body, including the URL for the server callback

## 2.5.1 - 18/07/2022

### Added

- Added possibility for credit card, Satispay, Scalapay payments to override redirect URLs via /pay request body

## 2.5.0

### Added

- new endpoint `/pay/recurrent` to _gestpay_(Axerve) provider for `credit-cards` and `pay-pal` methods
to support executing recurrent payments

### Changed

- _gestpay_ /create interface, so that now it includes also details regarding recurring payments
- _CallbackMessage_ now contains `recurrenceToken` field, which value, if present, can be employed
to perform subsequent payments with PayPal (without user interaction)
- upgraded service dependencies
- updated Dockerfile to build from source code the JAR executed in the image, rather than
copying the one created within the build pipeline
- updated build configuration to target Java 17

### Fixed

- PayPal payment type in gestpay provider (it was set to Satispay)
- reduced building warnings
- Fixed return fields of the SafeCharge closeTransaction operations. Now they always return the authCode and the 
  transactionId.

## 2.4.0 - 17/06/2022

### Changed
- Changed `GestPayService` to accept optional fields `buyerName` and `buyerEmail` during the payment

## 2.3.0 - 09/06/2022

### Added
- **New payment provider**: Soisy (native implementation).

## 2.2.0 - 09/06/2022

### Changed
- **BREAKING**: `SCALAPAY_IS_SANDBOX` now is `SCALAPAY_BASE_PATH` to allow more environments to be handled.
- Added `ccInfo` optional field to `CallbackMessage`

## 2.1.0 - 10/05/2022

### Added
- **New payment provider**: SafeCharge.
- **3D-secure session Management** for SafeCharge.
### Changed
- Added `safeChargeData` optional field to `CallbackMessage`

## 2.0.2 - 09/05/2022

### Fixed
- Fixed management of vaulted payments using Braintree without nonce token. Prior to this fix, users encountered
  problems using vaulted payments from different frontends.

## 2.0.1 - 26/04/2022

### Changed
- `HTTP_LOG_LEVEL` env variable is now optional.
### Fixed
- Scalapay `/status` now correctly translates "pending" to the pending response status.

## 2.0.0 - 13/04/2022

### Added
- **New payment provider**: Braintree used to manage transactions having PayPal as payment method.
- **New payment provider**: Scalapay.
- **Braintree dedicated endpoints**:
  - /braintree/token used to retrieve the users' client
  - /braintree/submit needed to submit a transaction for settlement
  - /braintree/customer used to create a customer
- **Swagger OpenAPI documentation**: all endpoints are now documented
  with swagger! You can use the endpoint `/documentation` to view it.
### Changed
- All endpoints now return a response body of type ErrorResponse in case
  of failure (look at openapi documentation)
### Fixed
- Log level is now correctly read from env variable `LOG_LEVEL`

## 1.3.0 - 23-02-2022

### Added
- **New payment provider**: Satispay (native implementation).
- **New payment provider**: Unicredit (credit card payments).
- `redirectToUrlMobile` to `/pay` endpoint, that may contain an iOS global URI to redirect to a specific app.
- Endpoint /status for Satispay provider that allows to check the status of a Satispay payment.

## 1.2.2 - 02-02-2021

- New dockerimage name platform/payment-gateway-manager
