---
id: alerting_rules
title: Alerting rules
sidebar_label: Alerting rules
---
Mia-Platform PaaS Monitoring defines a set of alerting rules by default. Currently, you cannot add custom alerting rules.

These rules refer to AlertManager, Kafka, Kubernetes cluster, and Prometheus. Each rule has one the following 3 severity levels:

1. **Info**: An informative message. No action is required;
2. **Warning**: Action must be taken to prevent a severe error from occurring in the near future;
3. **Critical**: A severe error that might cause the loss or corruption of unsaved data. Immediate action must be taken to prevent losing data.

Below there is a list with all the alerts that you may receive. For each alert you will find a brief description and its severity level.

## AlertManager

|                 **Alert**                 | **Description** | **Severity** |
| ------------------------------------- | ----------- | -------- |
| AlertmanagerClusterCrashlooping                 | Half or more of the Alertmanager instances within the same cluster are crashlooping. Alerts could be notified multiple time unless pods are crashing too fast and no alerts can be sent.                  | critical             |
| AlertmanagerClusterDown                         | Half or more of the Alertmanager instances within the same cluster are down.                                                                                                                              | critical             |
| AlertmanagerClusterFailedToSendAlerts           | All Alertmanager instances in a cluster failed to send notifications to a critical integration.                                                                                                           | warning   |
| AlertmanagerConfigInconsistent                  | The configuration of the instances of the Alertmanager cluster namespace/services are out of sync.                                                                                                        | critical             |
| AlertmanagerFailedReload                        | Reloading Alertmanager's configuration has failed for namespace/pods.                                                                                                                                     | critical             |
| AlertmanagerFailedToSendAlerts                  | At least one instance is unable to routed alert to the corresponding integration.                                                                                                                         | warning              |
| AlertmanagerMembersInconsistent                 | Alertmanager has not found all other members of the cluster.                                                                                                                                              | critical             |

## Kafka

|                 **Alert**                 | **Description** | **Severity** |
| ------------------------------------- | ----------- | -------- |
| KafkaNoActiveController                         | There are no active Kafka Controller.                                                                                                                                                                               | critical             |
| KafkaOfflinePartitions                          | Kafka partitions are offline.                                                                                                                                                                      | critical             |
| KafkaPartitionOver80                            | Kafka Partition disk usage over 80%.                                                                                                                                                                      | critical             |
| KafkaUnderReplicatedPartitions                  | Kafka Partitions are under replicated.                                                                                                                                                                       | critical             |

## Kubernetes Cluster

|                 **Alert**                 | **Description** | **Severity** |
| ------------------------------------- | ----------- | -------- |
| ConfigReloaderSidecarErrors                     | Errors encountered in a pod while the config-reloader sidecar attempts to sync config in namespace. As a result, configuration for service running in the pod may be stale and cannot be updated anymore. | warning              |
| CPUThrottlingHigh                     | Kubernetes containers processes experience elevated CPU throttling. | info              |
| KubeClientErrors                                | Kubernetes API server client is experiencing errors.                                                                                                                                                      | warning              |
| KubeContainerWaiting                            | Pod container is waiting longer than 1 hour.                                                                                                                                                              | warning              |
| KubeCPUOvercommit                               | Cluster has overcommitted CPU resource requests.                                                                                                                                                          | warning              |
| KubeCPUQuotaOvercommit                          | Cluster has overcommitted CPU resource requests.                                                                                                                                                          | warning              |
| KubeDaemonSetMisScheduled                       | DaemonSet pods are not properly scheduled.                                                                                                                                                                          | warning              |
| KubeDaemonSetNotScheduled                       | DaemonSet pods are not scheduled.                                                                                                                                                                         | warning              |
| KubeDaemonSetRolloutStuck                       | DaemonSet rollout is stuck.                                                                                                                                                                               | warning              |
| KubeDeploymentGenerationMismatch                | Deployment generation mismatch due to possible roll-back.                                                                                                                                                 | warning              |
| KubeDeploymentReplicasMismatch                  | Deployment has not matched the expected number of replicas.                                                                                                                                               | warning              |
| KubeHpaMaxedOut                                 | HPA is running at max replicas.                                                                                                                                                                           | warning              |
| KubeHpaReplicasMismatch                         | HPA has not matched desired number of replicas.                                                                                                                                                           | warning              |
| KubeJobCompletion                               | Job did not complete in time.                                                                                                                                                                             | warning              |
| KubeJobFailed                                   | Job failed to complete.                                                                                                                                                                                   | warning              |
| KubeletClientCertificateExpiration              | Kubelet client certificate is about to expire.                                                                                                                                                            | warning   |
| KubeletClientCertificateRenewalErrors           | Kubelet has failed to renew its client certificate.                                                                                                                                                       | warning              |
| KubeletDown                                     | Target disappeared from Prometheus target discovery.                                                                                                                                                      | critical             |
| KubeletPlegDurationHigh                         | Kubelet Pod Lifecycle Event Generator is taking too long to relist.                                                                                                                                       | warning              |
| KubeletPodStartUpLatencyHigh                    | Kubelet Pod startup latency is too high.                                                                                                                                                                  | warning              |
| KubeletServerCertificateExpiration              | Kubelet server certificate is about to expire.                                                                                                                                                            | warning   |
| KubeletTooManyPods              | The alert fires when a specific node is running >95% of its capacity of pods.                                                                                                                                                            | info   |
| KubeletServerCertificateRenewalErrors           | Kubelet has failed to renew its server certificate.                                                                                                                                                       | warning              |
| KubeMemoryOvercommit                            | Cluster has overcommitted memory resource requests.                                                                                                                                                       | warning              |
| KubeMemoryQuotaOvercommit                       | Cluster has overcommitted memory resource requests.                                                                                                                                                       | warning              |
| KubeNodeNotReady                                | Node is not ready.                                                                                                                                                                                        | warning              |
| KubeNodeReadinessFlapping                       | Node readiness status is flapping.                                                                                                                                                                        | warning              |
| KubeNodeUnreachable                             | Node is unreachable.                                                                                                                                                                                      | warning              |
| KubePersistentVolumeErrors                      | PersistentVolume is having issues with provisioning.                                                                                                                                                      | critical             |
| KubePersistentVolumeFillingUp                   | PersistentVolume is filling up.                                                                                                                                                                           | warning   |
| KubePodCrashLooping                             | Pod is crash looping.                                                                                                                                                                                     | warning              |
| KubePodNotReady                                 | Pod has been in a non-ready state for more than 15 minutes.                                                                                                                                               | warning              |
| KubeQuotaExceeded                               | Namespace quota has exceeded the limits.                                                                                                                                                                  | warning              |
| KubeQuotaAlmostFull                               | Namespace quota is going to be full.                                                                                                                                                                | info              |
| KubeQuotaFullyUsed                               | Namespace quota is fully used.                                                                                                                                                                 | info              |
| KubeStatefulSetGenerationMismatch               | StatefulSet generation mismatch due to possible roll-back.                                                                                                                                                | warning              |
| KubeStatefulSetReplicasMismatch                 | Deployment has not matched the expected number of replicas.                                                                                                                                               | warning              |
| KubeStatefulSetUpdateNotRolledOut               | StatefulSet update has not been rolled out.                                                                                                                                                               | warning              |
| KubeStateMetricsListErrors                      | kube-state-metrics is experiencing errors in list operations.                                                                                                                                             | critical             |
| KubeStateMetricsShardingMismatch                | kube-state-metrics pods are running with different --total-shards configuration, some Kubernetes objects may be exposed multiple times or not exposed at all.                                             | critical             |
| KubeStateMetricsShardsMissing                   | kube-state-metrics shards are missing, some Kubernetes objects are not being exposed.                                                                                                                     | critical             |
| KubeStateMetricsWatchErrors                     | kube-state-metrics is experiencing errors in watch operations.                                                                                                                                            | critical             |
| KubeVersionMismatch                             | Different semantic versions of Kubernetes components running.                                                                                                                                             | warning              |
| NodeClockNotSynchronising                       | Clock not synchronizing.                                                                                                                                                                                  | warning              |
| NodeClockSkewDetected                           | Clock skew detected.                                                                                                                                                                                      | warning              |
| NodeFileDescriptorLimit                         | Kernel is predicted to exhaust file descriptors limit soon.                                                                                                                                               | warning   |
| NodeFilesystemAlmostOutOfFiles                  | Filesystem has less than 5% inodes left.                                                                                                                                                                  | warning   |
| NodeFilesystemAlmostOutOfSpace                  | Filesystem has less than 5% space left.                                                                                                                                                                   | warning   |
| NodeFilesystemFilesFillingUp                    | Filesystem is predicted to run out of inodes within the next 24 hours.                                                                                                                                    | warning   |
| NodeFilesystemSpaceFillingUp                    | Filesystem is predicted to run out of space within the next 24 hours.                                                                                                                                     | warning   |
| NodeHighNumberConntrackEntriesUsed              | Number of conntrack are getting close to the limit.                                                                                                                                                       | warning              |
| NodeNetworkInterfaceFlapping                    | Network interface device changing it's up status often on node-exporter namespace/pods.                                                                                                                   | warning              |
| NodeNetworkReceiveErrs                          | Network interface is reporting many receive errors.                                                                                                                                                       | warning              |
| NodeNetworkTransmitErrs                         | Network interface is reporting many transmit errors.                                                                                                                                                      | warning              |
| NodeRAIDDegraded                                | RAID Array is degraded.                                                                                                                                                                                   | critical             |
| NodeRAIDDiskFailure                             | Failed device in RAID array.                                                                                                                                                                              | warning              |
| NodeTextFileCollectorScrapeError                | Node Exporter text file collector failed to scrape.                                                                                                                                                       | warning              |
| PodCrashOOM                                     | Pod Crashing for OOM.                                                                                                                                                                                     | critical             |

## Prometheus

|                 **Alert**                 | **Description** | **Severity** |
| ------------------------------------- | ----------- | -------- |
| PrometheusBadConfig                             | Failed Prometheus configuration reload.                                                                                                                                                                   | critical             |
| PrometheusDuplicateTimestamps                   | Prometheus is dropping samples with duplicate timestamps.                                                                                                                                                 | warning              |
| PrometheusErrorSendingAlertsToAnyAlertmanager   | Prometheus encounters more than 3% errors sending alerts to any Alertmanager.                                                                                                                             | critical             |
| PrometheusErrorSendingAlertsToSomeAlertmanagers | Prometheus has encountered more than 1% errors sending alerts to a specific Alertmanager.                                                                                                                 | warning              |
| PrometheusMissingRuleEvaluations                | Prometheus is missing rule evaluations due to slow rule group evaluation.                                                                                                                                 | warning              |
| PrometheusNotConnectedToAlertmanagers           | Prometheus is not connected to any Alertmanagers.                                                                                                                                                         | warning              |
| PrometheusNotificationQueueRunningFull          | Prometheus alert notification queue predicted to run full in less than 30m.                                                                                                                               | warning              |
| PrometheusNotIngestingSamples                   | Prometheus is not ingesting samples.                                                                                                                                                                      | warning              |
| PrometheusOperatorListErrors                    | Errors while performing list operations in controller.                                                                                                                                                    | warning              |
| PrometheusOperatorNodeLookupErrors              | Errors while reconciling Prometheus.                                                                                                                                                                      | warning              |
| PrometheusOperatorNotReady                      | Prometheus operator is not ready.                                                                                                                                                                         | warning              |
| PrometheusOperatorReconcileErrors               | Errors while reconciling controller.                                                                                                                                                                      | warning              |
| PrometheusOperatorRejectedResources             | Resources rejected by Prometheus operator.                                                                                                                                                                | warning              |
| PrometheusOperatorSyncFailed                    | Last controller reconciliation failed.                                                                                                                                                                    | warning              |
| PrometheusOperatorWatchErrors                   | Errors while performing watch operations in controller.                                                                                                                                                   | warning              |
| PrometheusOutOfOrderTimestamps                  | Prometheus drops samples with out-of-order timestamps.                                                                                                                                                    | warning              |
| PrometheusRemoteStorageFailures                 | Prometheus fails to send samples to remote storage.                                                                                                                                                       | warning              |
| PrometheusRemoteWriteBehind                     | Prometheus remote write is behind.                                                                                                                                                                        | critical             |
| PrometheusRemoteWriteDesiredShards              | Prometheus remote write desired shards calculation wants to run more than configured max shards.                                                                                                          | warning              |
| PrometheusRuleFailures                          | Prometheus is failing rule evaluations.                                                                                                                                                                   | critical             |
| PrometheusTargetLimitHit                        | Prometheus has dropped targets because some scrape configs have exceeded the targets limit.                                                                                                               | warning              |
| PrometheusTargetSyncFailure                     | This alert is triggered when at least one of the Prometheus instances has consistently failed to sync its configuration.                                                                                  | warning              |
| PrometheusTSDBCompactionsFailing                | Prometheus has issues compacting blocks.                                                                                                                                                                  | warning              |
| PrometheusTSDBReloadsFailing                    | Prometheus has issues reloading blocks from disk.                                                                                                                                                         | warning              |
| TargetDown                                      | Percentage of jobs and services down in the target namespace above some threshold.                                                                                                                        | warning              |
