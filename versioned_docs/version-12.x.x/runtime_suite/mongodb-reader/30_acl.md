---
id: acl
title: ACL
sidebar_label: ACL
---

<!--
WARNING: this file was automatically generated by Mia-Platform Doc Aggregator.
DO NOT MODIFY IT BY HAND.
Instead, modify the source file and run the aggregator to regenerate this file.
-->

ACL is supported through the standard `acl_rows` header.

## Configuration

In order to let the profile inject ACL information you're **required** to insert a custom stage using the `#aclRows#` operator with boolean value `true`.

Note:
 - if the profile uses the `#aclRows#` operator but the `acl_rows` header is not provided then no `$match` stage is inserted.

Sample configuration:

```
[
    { ...some pipeline stages },
    {
        "#aclRows#": true
    },
    { ...some pipeline stages }
]
```

will lead to the following profile, assuming `acl_rows` header has the value: `{$and: [{prop: "A"}, {prop2: "B"}]}`:


```
[
    { ...some pipeline stages },
    {
        "$match": {
            {
                $and: [
                    { prop: "A" }, 
                    { prop2: "B" }
                ]
            }
        }
    },
    { ...some pipeline stages }
]
```
