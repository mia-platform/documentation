{
    "title": "Control Plane Configuration JSON Schema",
    "type": "object",
    "properties": {
        "persistence": {
            "type": "object",
            "properties": {
                "collection": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "updates": {
                            "type": "object",
                            "properties": {
                                "millis": {
                                    "type": "number"
                                }
                            },
                            "additionalProperties": false
                        }
                    },
                    "required": [
                        "name"
                    ],
                    "additionalProperties": false
                },
                "configuration": {
                    "type": "object",
                    "properties": {
                        "database": {
                            "type": "string"
                        },
                        "url": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "object",
                                    "title": "Secret From Variable",
                                    "properties": {
                                        "encoding": {
                                            "type": "string",
                                            "enum": [
                                                "base64"
                                            ]
                                        },
                                        "key": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "const": "env"
                                        }
                                    },
                                    "required": [
                                        "key",
                                        "type"
                                    ],
                                    "additionalProperties": false
                                },
                                {
                                    "type": "object",
                                    "title": "Secret From File",
                                    "properties": {
                                        "encoding": {
                                            "type": "string",
                                            "enum": [
                                                "base64"
                                            ]
                                        },
                                        "key": {
                                            "type": "string"
                                        },
                                        "path": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "const": "file"
                                        }
                                    },
                                    "required": [
                                        "path",
                                        "type"
                                    ],
                                    "additionalProperties": false
                                }
                            ]
                        }
                    },
                    "required": [
                        "url"
                    ],
                    "additionalProperties": false
                },
                "type": {
                    "type": "string",
                    "const": "mongodb"
                }
            },
            "required": [
                "collection",
                "configuration",
                "type"
            ],
            "additionalProperties": false
        },
        "runtime": {
            "type": "object",
            "properties": {
                "feedback": {
                    "anyOf": [
                        {
                            "type": "object",
                            "properties": {
                                "configuration": {},
                                "type": {
                                    "type": "string",
                                    "const": "grpc"
                                }
                            },
                            "required": [
                                "type"
                            ],
                            "additionalProperties": false,
                            "default": {
                                "type": "grpc"
                            }
                        },
                        {
                            "allOf": [
                                {
                                    "type": "object",
                                    "properties": {
                                        "configuration": {
                                            "title": "Kafka Configuration",
                                            "type": "object",
                                            "properties": {
                                                "allow.auto.create.topics": {
                                                    "type": "string",
                                                    "enum": [
                                                        "true",
                                                        "false"
                                                    ]
                                                },
                                                "auto.offset.reset": {
                                                    "type": "string",
                                                    "enum": [
                                                        "earliest",
                                                        "latest"
                                                    ]
                                                },
                                                "bootstrap.servers": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "client.id": {
                                                    "type": "string"
                                                },
                                                "enable.auto.commit": {
                                                    "type": "string",
                                                    "enum": [
                                                        "true",
                                                        "false"
                                                    ]
                                                },
                                                "sasl.mechanism": {
                                                    "type": "string",
                                                    "enum": [
                                                        "PLAIN",
                                                        "SCRAM-SHA-256",
                                                        "SCRAM-SHA-512",
                                                        "OAUTHBEARER"
                                                    ]
                                                },
                                                "sasl.password": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "sasl.username": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "security.protocol": {
                                                    "type": "string",
                                                    "enum": [
                                                        "PLAINTEXT",
                                                        "SSL",
                                                        "SASL_PLAINTEXT",
                                                        "SASL_SSL"
                                                    ]
                                                },
                                                "session.timeout.ms": {
                                                    "type": "number"
                                                },
                                                "ssl.key.password": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.keystore.certificate.chain": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.keystore.key": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.keystore.location": {
                                                    "type": "string"
                                                },
                                                "ssl.keystore.type": {
                                                    "type": "string",
                                                    "const": "PEM",
                                                    "default": "PEM"
                                                },
                                                "ssl.truststore.certificates": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.truststore.location": {
                                                    "type": "string"
                                                },
                                                "ssl.truststore.type": {
                                                    "type": "string",
                                                    "const": "PEM",
                                                    "default": "PEM"
                                                }
                                            },
                                            "required": [
                                                "bootstrap.servers"
                                            ],
                                            "additionalProperties": false
                                        },
                                        "type": {
                                            "type": "string",
                                            "const": "kafka"
                                        }
                                    },
                                    "required": [
                                        "configuration",
                                        "type"
                                    ]
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "consumer": {
                                            "type": "object",
                                            "properties": {
                                                "group.id": {
                                                    "type": "string"
                                                },
                                                "topic": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "group.id",
                                                "topic"
                                            ],
                                            "additionalProperties": false
                                        }
                                    },
                                    "required": [
                                        "consumer"
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "state": {
                    "anyOf": [
                        {
                            "type": "object",
                            "properties": {
                                "configuration": {},
                                "type": {
                                    "type": "string",
                                    "const": "grpc"
                                }
                            },
                            "required": [
                                "type"
                            ],
                            "additionalProperties": false,
                            "default": {
                                "type": "grpc"
                            }
                        },
                        {
                            "allOf": [
                                {
                                    "type": "object",
                                    "properties": {
                                        "configuration": {
                                            "type": "object",
                                            "properties": {
                                                "allow.auto.create.topics": {
                                                    "type": "string",
                                                    "enum": [
                                                        "true",
                                                        "false"
                                                    ]
                                                },
                                                "auto.offset.reset": {
                                                    "type": "string",
                                                    "enum": [
                                                        "earliest",
                                                        "latest"
                                                    ]
                                                },
                                                "bootstrap.servers": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "client.id": {
                                                    "type": "string"
                                                },
                                                "enable.auto.commit": {
                                                    "type": "string",
                                                    "enum": [
                                                        "true",
                                                        "false"
                                                    ]
                                                },
                                                "sasl.mechanism": {
                                                    "type": "string",
                                                    "enum": [
                                                        "PLAIN",
                                                        "SCRAM-SHA-256",
                                                        "SCRAM-SHA-512",
                                                        "OAUTHBEARER"
                                                    ]
                                                },
                                                "sasl.password": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "sasl.username": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "security.protocol": {
                                                    "type": "string",
                                                    "enum": [
                                                        "PLAINTEXT",
                                                        "SSL",
                                                        "SASL_PLAINTEXT",
                                                        "SASL_SSL"
                                                    ]
                                                },
                                                "session.timeout.ms": {
                                                    "type": "number"
                                                },
                                                "ssl.key.password": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.keystore.certificate.chain": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.keystore.key": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.keystore.location": {
                                                    "type": "string"
                                                },
                                                "ssl.keystore.type": {
                                                    "type": "string",
                                                    "const": "PEM",
                                                    "default": "PEM"
                                                },
                                                "ssl.truststore.certificates": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "env"
                                                                }
                                                            },
                                                            "required": [
                                                                "key",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "encoding": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "base64"
                                                                    ]
                                                                },
                                                                "key": {
                                                                    "type": "string"
                                                                },
                                                                "path": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string",
                                                                    "const": "file"
                                                                }
                                                            },
                                                            "required": [
                                                                "path",
                                                                "type"
                                                            ],
                                                            "additionalProperties": false
                                                        }
                                                    ]
                                                },
                                                "ssl.truststore.location": {
                                                    "type": "string"
                                                },
                                                "ssl.truststore.type": {
                                                    "type": "string",
                                                    "const": "PEM",
                                                    "default": "PEM"
                                                }
                                            },
                                            "required": [
                                                "bootstrap.servers"
                                            ],
                                            "additionalProperties": false
                                        },
                                        "type": {
                                            "type": "string",
                                            "const": "kafka"
                                        }
                                    },
                                    "required": [
                                        "configuration",
                                        "type"
                                    ]
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "producer": {
                                            "type": "object",
                                            "properties": {
                                                "topic": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "topic"
                                            ],
                                            "additionalProperties": false
                                        }
                                    },
                                    "required": [
                                        "producer"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            },
            "additionalProperties": false
        },
        "settings": {
            "type": "object",
            "properties": {
                "channels": {
                    "type": "object",
                    "properties": {
                        "buffer": {
                            "type": "object",
                            "properties": {
                                "millis": {
                                    "type": "number"
                                }
                            },
                            "additionalProperties": false
                        },
                        "grpc": {
                            "type": "object",
                            "properties": {
                                "mode": {
                                    "type": "string",
                                    "enum": [
                                        "json",
                                        "protobuf"
                                    ],
                                    "default": "protobuf"
                                },
                                "port": {
                                    "type": "number",
                                    "default": 50051
                                }
                            },
                            "additionalProperties": false
                        },
                        "runtimeHeartbeat": {
                            "type": "object",
                            "properties": {},
                            "additionalProperties": false
                        }
                    },
                    "additionalProperties": false
                },
                "server": {
                    "type": "object",
                    "properties": {
                        "apis": {
                            "type": "object",
                            "properties": {
                                "controllers": {
                                    "type": "object",
                                    "properties": {
                                        "fast-data": {
                                            "type": "string",
                                            "default": "/fast-data"
                                        },
                                        "prefix": {
                                            "type": "string"
                                        },
                                        "settings": {
                                            "type": "object",
                                            "properties": {
                                                "feedbackBuffer": {
                                                    "type": "object",
                                                    "properties": {
                                                        "millis": {
                                                            "type": "number"
                                                        }
                                                    },
                                                    "additionalProperties": false
                                                },
                                                "policies": {
                                                    "type": "object",
                                                    "properties": {
                                                        "edit": {
                                                            "type": "string"
                                                        },
                                                        "view": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "additionalProperties": false
                                                }
                                            },
                                            "additionalProperties": false
                                        }
                                    },
                                    "additionalProperties": false
                                },
                                "probes": {
                                    "type": "object",
                                    "properties": {
                                        "healthcheck": {
                                            "type": "string",
                                            "default": "/healthz"
                                        },
                                        "metrics": {
                                            "type": "string",
                                            "default": "/metrics"
                                        },
                                        "prefix": {
                                            "type": "string",
                                            "default": "/-/"
                                        },
                                        "readiness": {
                                            "type": "string",
                                            "default": "/ready"
                                        }
                                    },
                                    "additionalProperties": false
                                }
                            },
                            "additionalProperties": false
                        },
                        "authorization": {
                            "type": "object",
                            "properties": {
                                "apiKey": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "encoding": {
                                                    "type": "string",
                                                    "enum": [
                                                        "base64"
                                                    ]
                                                },
                                                "key": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "const": "env"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "type"
                                            ],
                                            "additionalProperties": false
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "encoding": {
                                                    "type": "string",
                                                    "enum": [
                                                        "base64"
                                                    ]
                                                },
                                                "key": {
                                                    "type": "string"
                                                },
                                                "path": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "const": "file"
                                                }
                                            },
                                            "required": [
                                                "path",
                                                "type"
                                            ],
                                            "additionalProperties": false
                                        }
                                    ]
                                }
                            },
                            "required": [
                                "apiKey"
                            ],
                            "additionalProperties": false
                        },
                        "prefix": {
                            "type": "string",
                            "default": "/"
                        },
                        "swagger": {
                            "type": "object",
                            "properties": {
                                "prefix": {
                                    "type": "string",
                                    "default": "/documentation"
                                }
                            },
                            "additionalProperties": false
                        },
                        "website": {
                            "type": "object",
                            "properties": {
                                "root": {
                                    "type": "string",
                                    "default": "./website"
                                },
                                "security": {
                                    "type": "object",
                                    "properties": {
                                        "x-frame-options": {
                                            "type": "string",
                                            "enum": [
                                                "sameorigin",
                                                "deny"
                                            ]
                                        }
                                    },
                                    "additionalProperties": false
                                },
                                "url": {
                                    "type": "string",
                                    "default": "/website/"
                                }
                            },
                            "additionalProperties": false
                        }
                    },
                    "additionalProperties": false
                }
            },
            "additionalProperties": false
        }
    },
    "required": [
        "persistence"
    ],
    "additionalProperties": false
}